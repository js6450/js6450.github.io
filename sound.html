<!DOCTYPE html>
<html>
<head>
  <meta name="author" content="Jiwon Shin">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <link rel="stylesheet" href="css/style.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <script language="javascript" type="text/javascript" src="libraries/p5.js"></script>
  <script language="javascript" src="libraries/p5.dom.js"></script>
  <title>Jiwon Shin</title>
</head>
<style>
  .p5-sketch{
    width: 100% !important;
    height: auto !important;
  }
</style>
<body>
  <!-- Always shows a header, even in smaller screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title"><a id="title-link" href="index.html">JIWON SHIN</a></span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation. We hide it in small screens. -->
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        <a class="mdl-navigation__link" href="http://jiwonshin.com" target="_blank">ABOUT</a>
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title"><a id="d-title-link" href="index.html">JIWON SHIN</a></span>
    <nav class="mdl-navigation">
      <a class="mdl-navigation__link" href="http://jiwonshin.com" target="_blank">ABOUT</a>
    </nav>
  </div>
  <main class="mdl-layout__content">
    <div id="main-content" class="full-page-content">
      <h4><b>CREATING VISUALS WITH SOUND USING p5.Sound.js</b></h4>
      <h5><b>STEP 1</b> | What is p5.Sound.js?</h5>
      <p><a href="https://p5js.org/" target="_blank" class="p-link">p5.js</a> is a javascript library which you can basically think of as Processing's javascript version. It allows users to do graphical programming easily. In this workshop, we are going to use p5.js to create visuals iteratively and make multiples do the same, or make them each do something similar but different.</p>

      <iframe height="240px" src="p5-sketch/simpleType.html"></iframe>
      <pre>
      var numC = 13;
      var numD = 6;
      var numG = 7;

      var A = 65;

      var numSound = 0;
      var pressedKey = "";

      var sounds = [];

      function preload() {
        for (var i = 0; i < numC; i++) {
          sounds.push(loadSound('assets/c' + i + ".mp3"));
        }

        for (var i = 0; i < numD; i++) {
          sounds.push(loadSound('assets/d' + i + ".mp3"));
        }

        for (var i = 0; i < numG; i++) {
          sounds.push(loadSound('assets/g' + i + ".wav"));
        }
      }

      function setup() {
        createCanvas(windowWidth, 240);
        colorMode(HSB);
        noStroke();
      }

      function draw() {
        background(255, 30);

        textSize(32);
        text(pressedKey, 50, 50, width - 100, height - 100);
        
      }

      function keyPressed() {
        pressedKey += key;
        numSound = key.charCodeAt(0) - A;
        console.log(numSound);

        //catch other keys being pressed;
        if (numSound >= 0 && numSound <= 26) {
          sounds[numSound].play();
        }
      }
      </pre>

      <iframe height="240px" src="p5-sketch/animatedType.html"></iframe>
      <pre>
      var numC = 13;
      var numD = 6;
      var numG = 7;

      var A = 65;

      var numSound = -1;
      var pressedKey = "";

      var sounds = [];

      var shapes = [];

      function preload() {
        for (var i = 0; i < numC; i++) {
          sounds.push(loadSound('assets/c' + i + ".mp3"));
        }

        for (var i = 0; i < numD; i++) {
          sounds.push(loadSound('assets/d' + i + ".mp3"));
        }

        for (var i = 0; i < numG; i++) {
          sounds.push(loadSound('assets/g' + i + ".wav"));
        }

        for (var i = 0; i < 26; i++) {
          shapes.push(new Shape(i));
        }
      }

      function setup() {
        createCanvas(windowWidth, 240);
        colorMode(HSB);
        rectMode(CENTER);
        noStroke();
      }

      function draw() {
        background(255);

        if (numSound >= 0 && numSound <= shapes.length) {
          shapes[numSound].display();
        }
      }

      function keyPressed() {
        pressedKey += key;
        numSound = key.charCodeAt(0) - A;
        console.log(numSound);

        if (numSound >= 0 && numSound <= shapes.length) {
          shapes[numSound].playSound();
        }
      }

      function Shape(i) {
        this.size = random(100, 250);
        this.h = random(360);
        this.id = i;
        this.x = 0;

        this.display = function() {
          this.x = map(sounds[this.id].currentTime(), 0, sounds[this.id].duration(), 0, width);
          fill(this.h, 360, 360);

          if (this.id % 2 == 0) {
            this.displayCircle();
          } else {
            this.displaySquare();
          }
        }

        this.displayCircle = function() {
          ellipse(this.x, height / 2, this.size, this.size);
        }

        this.displaySquare = function() {
          rect(width - this.x, height / 2, this.size, this.size);
        }

        this.playSound = function() {
          sounds[this.id].play();
        }

      }
      </pre>


    </div>
    <footer class="mdl-mini-footer">
      <div class="mdl-mini-footer__left-section">
        <div class="mdl-logo">Jiwon Shin</div>
        <ul class="mdl-mini-footer__link-list">
          <li><a href="http://jiwonshin.com" target="_blank">About</a></li>
        </ul>
      </div>
    </footer>
  </div>
  </main>
</div>
</body>
</html>
